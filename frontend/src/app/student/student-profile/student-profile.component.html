
<mat-card class="profile-card">
	<mat-card-title>Student Profile</mat-card-title>
	<mat-card-content>
		<form [formGroup]="profileForm" *ngIf="editing; else viewMode">
			<mat-form-field appearance="outline" class="profile-field">
				<mat-label>Name</mat-label>
				<input matInput formControlName="name">
				<mat-error *ngIf="profileForm.get('name')?.hasError('required')">Name is required</mat-error>
			</mat-form-field>
			<mat-form-field appearance="outline" class="profile-field">
				<mat-label>Email</mat-label>
				<input matInput formControlName="email">
				<mat-error *ngIf="profileForm.get('email')?.hasError('required')">Email is required</mat-error>
				<mat-error *ngIf="profileForm.get('email')?.hasError('email')">Invalid email</mat-error>
			</mat-form-field>
			<mat-form-field appearance="outline" class="profile-field">
				<mat-label>Phone</mat-label>
				<input matInput formControlName="phone">
				<mat-error *ngIf="profileForm.get('phone')?.hasError('pattern')">Invalid phone number</mat-error>
			</mat-form-field>
			<mat-form-field appearance="outline" class="profile-field">
				<mat-label>School</mat-label>
				<input matInput formControlName="school">
			</mat-form-field>
			<div class="profile-actions">
				<button mat-raised-button color="primary" (click)="save()">Save</button>
				<button mat-button type="button" (click)="cancel()">Cancel</button>
			</div>
		</form>
		<ng-template #viewMode>
			<div class="profile-row"><strong>Name:</strong> {{ profileForm.value.name }}</div>
			<div class="profile-row"><strong>Email:</strong> {{ profileForm.value.email }}</div>
			<div class="profile-row"><strong>Phone:</strong> {{ profileForm.value.phone }}</div>
			<div class="profile-row"><strong>School:</strong> {{ profileForm.value.school }}</div>
			<div class="profile-actions">
				<button mat-raised-button color="accent" (click)="enableEdit()">Edit</button>
				<button mat-button routerLink="/student/create-profile">Create Student Profile</button>
			</div>
		</ng-template>
	</mat-card-content>
</mat-card>
